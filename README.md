# Tic Tac Toe project

## Описание

Данный проект был написан на библиотеке React. Все стили были реализованы с использованием препроцессора sass css. Идею с расширенной сеткой и модифицированной версией игры я позаимствовал у иностранного блогера VSAUCE (https://www.youtube.com/shorts/_Na3a1ZrX7c). Автор продемонстрировал модификацию классической игры и вдохновил меня на создание этого проекта.

## Неисправности

Известен один баг, недочеты в рефакторинге кода, постараюсь описать ошибки и недочеты, которые вижу сам и хочу узнать, как можно писать React код еще лучше:

### Баг:

После того, как пользователь кликает на ячейку и нажимает любую клавишу на клавиатуре, отображается hover эффект. Это не связано с useEffect в компоненте NormalGrid, который обрабатывает нажатия клавиш, скорее всего проблема в самом css и том, как он работает с псевдоклассом hover на теге <button>.

### ExpandedGrid:

Компонент со вложенным стейтом, рендерится при каждом клике на cell, что уже бьет по производительности. Возможно, резонно было бы для каждого board создать свой стейт и изменять сетки из дочерних компонентов cell, но изначально я создал довольно сложный компонент, который трудно рефакторить.

В компоненте использован хук useEffect, в котором в массив зависимостей был передан boards{...}[], для того чтобы работать с нынешним состоянием стейта mainWinner. Возможно, проблема возникла из-за вложенности объекта, но при попытке проверить расширенную сетку на победителя, возникала работа с прежним состоянием, из-за чего приходилось делать еще один клик, что ломало суть приложения. Я предполагаю, что такое поведение могло произойти из-за неправильно написанного (и примененного) мной хука useGameObjectState, который неправильно работает с прежним значением стейта.

Также, хоть компонентов не так уж и много, присутствует некоторый prop-drilling из компонента ExpandedGrid, которого можно было бы избежать, использовав хук useContext.

### Хэндлеры кликов

В хуках хэндлеров мне не удалось использовать принцип DRY, хотя многий функционал довольно схож, за исключением переходов из сетки на сетку в простой версии игры. Также не удалось извлечь функцию проверки на победителя, т.к. они работают немного по-разному.

Также я не могу не упомянуть нагроможденную тернарными операторами проверку на активные доски в хуке useHandleExpandedClick. Я не смог переписать этот функционал на более понятные конструкции if else.

### Взаимодействие с меню

Я пытался сделать так, чтобы первой кнопкой, на которую табается пользователь, пользующийся клавиатурой была кнопка ресета игры, но, скорее всего, из-за абсолютного позиционирования, первым делом таб переходит на кнопку back to menu.

### Conditional rendering

Из-за логики в компоненте App, которая рендерит элементы игры в соответствии со стейтом menu, нет плавной анимации переходов между меню. Это можно было бы реализовать при помощи loader'а, либо библиотек с "умными" анимациями.

## Вывод

В остальном, я доволен тем, как работает приложение. Я реализовал сложную логику для расширенной сетки, неплохо стилизовал "верстку" (она адаптивна и в выдержанной цветовой гамме). Это интересный проект и я не жалею о потраченном времени на создание данной игры.

Балковой Вадим,
telegram: https://t.me/balkovoyvadim
vk: https://vk.com/balkovvoy
